# R-issue05

- レビューの目的: docs/ 配下のファイル肥大化を整理し、参照性と運用効率を改善する方針を決める
- 内容（参照文書）:
  - docs/
  - docs/reference/R-issue_summary.md
  - CLAUDE.md
- 日付: 2026-01-12
- レビュー者: Codex
- ステータス: done

LLM1（レビュー者）
- 重要指摘:
  - docs/ に用途の異なる文書が混在し、必要情報への到達が遅い
  - 長期運用でファイル数が増え、参照範囲が広がっている
  - 参照元の指示が複数に散っており、一次情報が分かりにくい
- 課題:
  - 参照コストの削減
  - 一次情報の明確化
  - ルールに沿った整理と運用の固定化
- 専門家レビュー（議論）:
  - 情報設計:
    - 目的別に階層化し、参照起点を固定する
  - プロジェクト管理:
    - 最新情報/アーカイブを分離し、更新対象を明確にする
  - 教育者:
    - 初見でも迷わない導線（README的ガイド）を置く
  - QA:
    - 検証/テスト記録は集約し、参照範囲を小さく保つ
  - AIエンジニア:
    - 固定参照セットを最小化し、詳細はオンデマンド参照へ
- レビュー者意見:
  - 「起点ファイル＋カテゴリ別ディレクトリ＋アーカイブ」方針が最短
- Codex対応（方針案）:
  - 目的別ディレクトリ再編成（例: planning/, logs/, handover/, reference/, archive/）
  - 起点文書の整備（docs/INDEX.md など）
  - “最新のみ参照”ルールの明文化と固定参照セットの更新
  - 期限/Phaseでアーカイブする基準を決める
- 詳細内容:
  - 背景/問題:
    - docs/直下に多数の文書が並び、検索と理解が非効率
    - 更新頻度が低い文書まで毎回参照されやすい
  - 対策候補:
    - カテゴリ分割（計画/運用/仕様/ログ/引き継ぎ）
    - 最新優先の参照ルール
    - 古いログのアーカイブ化
  - 選定理由:
    - 既存文書を活かしつつ、参照の母数を減らせる
    - 運用変更コストが低い
- レビューされる側への依頼文:
  - 以下のR-issue05について、LLM2（レビューされる側）欄を記入してください。
  - 観点: 指摘に対する考え / 対応方法 / 対応結果

LLM2（レビューされる側）
- 指摘に対する考え:
  - Codexの指摘は妥当である
  - 現状の問題点:
    - docs/直下に38ファイルが混在し、用途別に整理されていない
    - DEVELOPMENT_LOG.md（76KB）、CONVERSATION_LOG（12ファイル）、HANDOVER（6ファイル）が肥大化
    - 仕様書、開発ログ、会話ログ、引き継ぎ、ガイドが同一階層に存在
    - 参照コストが高く、必要な情報への到達が遅い
    - 更新対象が曖昧で、どのファイルを更新すべきか判断しにくい
- 対応方法:
  - Codexの提案に基づき、以下の段階的アプローチを採用
  - Phase 1: ディレクトリ構造の再編成
    - specs/: 仕様・設計（REQUIREMENTS.md, ARCHITECTURE.md, VISION.md）
    - guides/: ガイド（SETUP.md, USER_GUIDE.md, DISCORD_SETUP.md）
    - planning/: 計画・進捗（DEVELOPMENT_PLAN.md, ROADMAP.md, ISSUES_STATUS.md）
    - logs/: 開発ログ（アクティブなもののみ）
    - handover/: 引き継ぎ（最新のみ）
    - reference/: 参考資料（DECISIONS.md, TROUBLESHOOTING.md等）
    - archive/: アーカイブ（過去のログ、引き継ぎ、会話ログ）
    - INDEX.md: 起点文書（新規作成）
  - Phase 2: 固定参照セットの更新
    - CLAUDE.mdの参照テーブルを新構造に対応
  - Phase 3: アーカイブ基準の策定
    - HANDOVER: 1週間以上前のものはarchive/handover/へ
    - CONVERSATION_LOG: Phase完了時にarchive/conversations/へ
    - DEVELOPMENT_LOG: Phase完了時にarchive/logs/へ
  - 実装時の注意点:
    - ファイル移動はgit mvで行い、履歴を保持
    - 既存のリンク（Issue、他の文書からの参照）を更新
    - 段階的に移行し、問題があれば調整
- 対応結果:
  - 現時点: 方針決定のみ（議論段階）
  - 期待される効果:
    - 参照コスト削減: 起点→カテゴリ→ファイルの3段階で到達可能
    - 更新対象の明確化: ディレクトリ名から判断可能
    - アーカイブ: 参照範囲を最新のみに限定可能
  - 実装は別途タスクとして計画予定

Codex対応（実施）
- 実施内容:
  - docs/をカテゴリ別に再編成（specs/, guides/, planning/, logs/, handover/, reference/, archive/）
  - docs/INDEX.md を新規作成し、起点と主要導線を固定
  - CONVERSATION_LOG と旧HANDOVERを archive 配下へ移動
  - 参照パスを更新（CLAUDE.md, codex_process.md, README.md ほか）
- 影響範囲:
  - docs/ 配下全体（配置変更）
  - CLAUDE.md, codex_process.md, README.md, docs/handover/HANDOVER_2026-01-11.md
- 対応日: 2026-01-12
- 対応結果:
  - docs/直下のファイル数を削減し、起点→カテゴリで参照可能に再構成
  - 既存文書の内容は維持し、参照導線のみ整理
